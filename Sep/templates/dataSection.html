{% extends "base.html" %}

{% block head %}
{{ super() }}
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
{% endblock %}


{% block styles %}
{{super()}}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
<style type="text/css">
	.btn{
	background: transparent;
	border-width: 0px;
	padding: 0px;
	margin:0px 5px;
	}
	.btn:hover{
		cursor: pointer;
	}
	.btn:hover > *{
		color: #369BF1;
	}
	.btn > *{
		color: #7B7E80;
	}
	*{
		font-size: 2vh;
	}
	.brand{
		justify-content: center;
		align-items: center;
	}
	.brand > * {
		font-weight: bold;
		font-size: 2.5vh;
		margin:50px;
	}
  #data_filter > label >input {
    font-size: 16px;
    padding: 2px;
    height: max-content;
    font-weight: initial;
  }
  .mycontainer{
    overflow-x: auto;
    flex:1;
    padding: 20px;
  }

</style>
{% endblock %}




{% block content %}
<h1 style="text-align: center;">{{final_name}}</h1>
<div class="mycontainer">
  <a class="btn" href="/sep_admin/add-section/{{name}}">
    <div style="background-color: #619BCC;padding: 5px 8px;border-radius: 5px;color: white;margin: 5px">+ Ajouter</div>
  </a>

  <table id="data" class="table table-striped">
    <thead>
      <tr>
        <th></th>
        {% for h in head %}
        <th>{{ h }}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>

        {% for d in data %}
          <tr>
            <td style="display: flex;flex-direction: row;">
        			<a class="btn" href="/sep_admin/edit/{{name}}/{{d[0]}}">
        				<span class="material-icons-outlined">
        				edit
        				</span>
        			</a>
        			<a class="btn" href="/sep_admin/delete/Item/{{d[0]}}">
        				<span class="material-icons-outlined">
        				delete
        				</span>
        			</a>
            </td>
            <td>{{d[1]}}</td>
            <td>{{d[2]}}</td>
            <td>
              {% if d[3]!=None %}
              <img src="/api/download/Item/{{d[0]}}/img"  width="200" height="200">
              <a href="/sep_admin/delete/Item/{{d[0]}}/pic">supprimer</a>
              {% endif %}
            </td>
            <td style="flex-direction: row;display: flex;align-items: center;">
              {% if d[4]!=None %}

              <video width="320" height="240" controls>
                <source src="/api/download/Item/{{d[0]}}/vid" type="video/mp4">
              </video>
                <a href="/sep_admin/delete/Item/{{d[0]}}/vid">supprimer</a>
              {% endif %}
            </td>
          </tr>
        {% endfor %}
    </tbody>
  </table>
</div>

    
{% endblock %}


{% block scripts %}
  {{super()}}

   <script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.25/js/dataTables.bootstrap5.js"></script>
  <script>
    $(document).ready(function () {
      $('#data').DataTable();
    });
  </script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
{% endblock %}



